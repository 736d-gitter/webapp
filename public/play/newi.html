<html>
<head>
	<link rel="stylesheet" href="newi.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300' rel='stylesheet' type='text/css'>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
</head>

<body>

<div class="left-menu-hotspot" id="left-menu-hotspot"></div>

<div class="leftmenu" id="left-menu">
	<ul>
		<li>Souper Troupers</li>
		<li>Secret Project X</li>
		<li>Andrew Newdigate</li>
		<li>Development Team</li>
		<li>Richard</li>
		<li>Boris Johnson</li>
		<li>Chrome colour bug</li>
	</ul>
</div>
<div class="menutoggle" id="menu-toggle-button"><img src="images/menu-toggle.png" width="40" height="40" id="menu-toggle"></div>

<div class="content" id="content-frame">
	<div class="header">
		<div class="header-content">Souper Troupers</div>
	</div>
	<div class="chatframe" id="chat-frame">
		<div class="chat-input">
			<div class="chat-input-display-picture" style="background-image: url('dude.jpg')"></div><div class="inputbox"><textarea class="inputboxtextarea" placeholder="Click here to say something."></textarea></div>
		</div>
    <div class="chat-content">
      <div class="chat-item">
        <div class="chat-input-display-picture" style="background-image: url('mike.png')"></div><div class="chatbox">awesome</div>
      </div>
      <div class="chat-item">
        <div class="chat-input-display-picture" style="background-image: url('andrew.png')"></div><div class="chatbox">looking great richard, the only one i wanted to discuss was the navigation menu, technically it's quite difficult to do, especially with older browser versions</div>
      </div>
      <div class="chat-item">
        <div class="chat-input-display-picture" style="background-image: url('richard.png')"></div><div class="chatbox">i've just uploaded the latest versions of the pictures, would you guys please take a look at them and give me some feedback please? can you let me know how you feel about them, both aesheticaly, and also from an implementation perspecitve.</div>
      </div>
    </div>

	</div>
	<div class="toolbar">
		<div class="people-roster">
      <div class="display-picture" style="background-image: url('andrew.png')"></div>
      <div class="display-picture" style="background-image: url('mike.png')"></div>
      <div class="display-picture" style="background-image: url('richard.png')"></div>
    </div>
    <div class="file-list">
        <div class="toolbar-header">Files</div>
        <div class="thumbnail" style="background-image: url('thumbs/surfer.jpg')"></div>
        <div class="thumbnail" style="background-image: url('thumbs/brief.jpeg')"></div>
        <div class="thumbnail" style="background-image: url('thumbs/green shoes.jpeg')"></div>
        <div class="thumbnail" style="background-image: url('thumbs/script.jpeg')"></div>
        <div class="thumbnail" style="background-image: url('thumbs/shoe tread.jpeg')"></div>
        <div class="thumbnail" style="background-image: url('thumbs/shoe.jpeg')"></div>
        <div class="thumbnail" style="background-image: url('thumbs/waves.jpg')"></div>
    </div>
    <div class="mail-list">
        <div class="toolbar-header">Mails</div>
        <div class="mail-item">
          <div class="mail-item-picture" style="background-image: url('richard.png')"></div>
          <div class="mail-item-subject">New designs</div>
        </div>
        <div class="mail-item">
          <div class="mail-item-picture" style="background-image: url('richard.png')"></div>
          <div class="mail-item-subject">Requirements for new UI</div>
        </div>
        <div class="mail-item">
          <div class="mail-item-picture" style="background-image: url('andrew.png')"></div>
          <div class="mail-item-subject">Update on AWS outage</div>
        </div>
        <div class="mail-item">
          <div class="mail-item-picture" style="background-image: url('mike.png')"></div>
          <div class="mail-item-subject">Thoughts on evolution of the UI</div>
        </div>

    </div>
	</div>
</div>

<div class="rightpanel" id="right-panel">
  <div class="image-preview" id="image-preview">
    <img src="images/big surfer.jpg" width="240" height="240">
  </div>
</div>

<script>

var leftmenu = false;
var rightpanel = false;

function hidePanel() {
    console.log("Hiding panel");
    $("#right-panel").animate({
      right: '-280px'
    }, 350, function() {
        $("#right-panel").hide();
    });

    $("#content-frame").animate({
      marginRight: '0px'
    }, 350, function() {
      
    });
    rightpanel = false;
}

function showPanel() {

    if (!rightpanel) {
      console.log("Showing panel");
      $("#right-panel").show();
      $("#right-panel").animate({
        right: '0px'
      }, 350, function() {
        // $("#left-menu").show();
      });

      $("#content-frame").animate({
        marginRight: '280px'
      }, 350, function() {  
      });

      rightpanel = true;
    }
}

function hideMenu() {
    console.log("Hiding menu");
    $("#left-menu").animate({
      left: '-280px'
    }, 350, function() {
      $("left-menu-hotspot").show();
    });
    $("#menu-toggle-button").animate({
      left: '0px'
    }, 350, function() {

    });
    $("#content-frame").animate({
      marginLeft: '0px'
    }, 350, function() {
      
    });
    leftmenu = false;
}

function showMenu() {

    if (!leftmenu) {
      console.log("Showing menu");
      $("#left-menu").animate({
        left: '0px'
      }, 350, function() {
        // $("#left-menu").show();
      });
      $("#menu-toggle-button").animate({
        left: '280px'
      }, 350, function() {
      });
      $("#content-frame").animate({
        marginLeft: '280px'
      }, 350, function() {  
      });
      $("left-menu-hotspot").hide();
      leftmenu = true;
    }
}


function toggleMenu() {
  if (leftmenu) {
    hideMenu();

  } else
  {
    showMenu();
  }
}

function togglePanel() {
  if (rightpanel) {
    hidePanel();

  } else
  {
    showPanel();
  }
}

$("#menu-toggle").click(function() {
  toggleMenu();
});

$("#left-menu-hotspot").mouseenter(function() {
  console.log("hotspot activated");
  showMenu();
});

$("#chat-frame").mouseenter(function() {
  console.log("mouse left the menu");
  hideMenu();
});


$(".thumbnail").click(function() {
  console.log("click on thumbnail");
  togglePanel();
});

$("#image-preview").click(function() {
  console.log("click on preview");
  hidePanel();
});

</script>

</body>
</html>